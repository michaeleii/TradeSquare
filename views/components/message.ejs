<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="/styles/styles.css" rel="stylesheet" />
    <script src="https://cdn.pubnub.com/sdk/javascript/pubnub.7.2.2.min.js"></script>
    <title>Message Page</title>
  </head>
  <body>
    <div class="flex justify-start px-5">
      <%- include('../components/subNavigation.ejs') %>
    </div>
    <div class="flex flex-auto px-6">
      <img
        id="profilePic"
        class="rounded-full w-[90px] h-[90px] object-cover"
        src="<%= user.profilePic %>"
        alt="User Profile Picture"
      />
      <div class="pt-5 pl-5">
        <h2 id="userFullName"><%= user.f_name %> <%= user.l_name %></h2>
      </div>
    </div>
    <div id="msgContainer" class="p-5 h-96 overflow-auto"></div>
    <form class="flex gap-5 p-10 fixed bottom-0 w-full" id="chatInputForm">
      <input
        class="bg-slate-200 rounded-full pl-5 py-4 w-full focus:outline-none"
        type="text"
        placeholder=""
        id="chatInput"
      />
      <button class="btn-primary-outline rounded-full w-[150px]" id="sendBtn">
        Send
      </button>
    </form>
    <script>
      let pubnub = new PubNub({
        publishKey: "pub-c-e1940c4d-880f-4331-9252-3ee8d4b82b0f",
        subscribeKey: "sub-c-eb8a5e05-e54f-4ede-8583-4f5301612ab2",
        userId: "<%= user.sid %>",
      });
    </script>
    <script src="/src/chat.js"></script>
  </body>
</html>
